<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> [번역] Lodash를 대체하는 순수 자바스크립트 함수 | Chanmi Lee </title> <meta name="author" content="Chanmi Kate Lee"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://chanmi-lee.github.io/articles/2021-03/Pure-JavaScript-Functions-as-a-Replacement-for-Lodash/"> <script src="/assets/js/theme.js?a81d82887dd692e91686b43de4542f18"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Chanmi Lee </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">[번역] Lodash를 대체하는 순수 자바스크립트 함수</h1> <p class="post-meta"> Created on March 07, 2021 </p> <p class="post-tags"> <i class="fa-solid fa-calendar fa-sm"></i> 2021   ·   <i class="fa-solid fa-tag fa-sm"></i> 글또   <i class="fa-solid fa-tag fa-sm"></i> JavaScript   <i class="fa-solid fa-tag fa-sm"></i> lodash   <i class="fa-solid fa-tag fa-sm"></i> vanillaJavaScript </p> </header> <article class="post-content"> <div id="markdown-content"> <blockquote> <p>이 글은 원저자 <a href="https://medium.com/@rcdexta" rel="external nofollow noopener" target="_blank">RC</a> 의 허락을 받아 <a href="https://blog.bitsrc.io/you-dont-need-lodash-or-how-i-started-loving-javascript-functions-3f45791fa6cd" rel="external nofollow noopener" target="_blank">Pure JavaScript Functions as a Replacement for Lodash</a> 을 번역한 글입니다</p> </blockquote> <figure> <picture> <source class="responsive-img-srcset" srcset="https://miro.medium.com/max/1400/1*zbJmSCECXK13rS7-4CsRzQ-480.webp 480w,https://miro.medium.com/max/1400/1*zbJmSCECXK13rS7-4CsRzQ-800.webp 800w,https://miro.medium.com/max/1400/1*zbJmSCECXK13rS7-4CsRzQ-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="https://miro.medium.com/max/1400/1*zbJmSCECXK13rS7-4CsRzQ.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <h2 id="함수형-프로그래밍">함수형 프로그래밍?</h2> <p>JavaScript와 함께 사용되는 유틸리티 함수들의 종류는 매우 다양합니다. 이 중 가장 일반적으로 사용되는 <a href="https://lodash.com" rel="external nofollow noopener" target="_blank">Lodash</a>와 <a href="https://underscorejs.org" rel="external nofollow noopener" target="_blank">Underscore.js</a>의 기능과 순수 자바스크립트 함수를 비교해보고자 합니다. 예제로 주어지는 함수들 중 일부는 ES5을 지원하지만 일부는 ES6의 지원이 필요하기도 합니다.</p> <p>Lodash나 Underscore.js 등의 라이브러리의 핵심 디자인 원칙은 <strong>함수형 프로그래밍</strong>으로 설명할 수 있습니다. 여기에서, <strong>함수형 프로그래밍</strong>이란 무엇일까요?</p> <p>함수형 프로그래밍을 설명하는데는 여러 방법이 있지만, 다음과 같이 정의해볼 수 있습니다.</p> <blockquote> <p>함수형 프로그래밍은 <strong>계산을 수학적 함수의 조합으로 생각하는 방식</strong>을 의미합니다. 프로그래밍이 실행될 때 전역 상태를 변경하는 명령문으로 구성된 <strong>명령형 프로그래밍과 대조되는 개념</strong>으로 이해할 수 있습니다. 명령형 프로그래밍에서는 일반적인 프로그래밍 언어에서 함수가 특정 동작을 수행하는 역할을 담당하지만, 함수형 프로그래밍에서는 일반적으로 전역 변수와 같은 변경 가능한(mutable) 상태의 사용을 피하고, <strong>불변(immutable) 데이터</strong>와 <strong>side effect이 없는 함수</strong>, 즉 함수의 실행이 외부에 영향을 끼치지 않는 함수를 사용하는 것을 지향합니다.</p> </blockquote> <p>여기서 중요한 것은, 사이드 이펙트가 없어야 한다는 점이며 이는 함수 내부에 상태가 존재하지 않고 함수의 출력 값은 항상 함수의 입력 값의 영향만 받는다는 것을 의미합니다. 덕분에 테스트, 유지 관리가 쉽고 무엇보다도 예측 가능합니다.</p> <h2 id="예제">예제</h2> <p>간단한 예제와 함께 순수 자바스크립트 함수와 라이브러리 함수를 좀 더 자세히 비교해보겠습니다.</p> <blockquote> <p>TIP: 필요한 기능만 Bit 컴포넌트로 설치해주세요</p> </blockquote> <p><a href="https://github.com/teambit/bit" rel="external nofollow noopener" target="_blank">Bit</a> 을 사용하면 라이브러리의 함수, 컴포넌트, 모듈을 별도의 리팩토링 없이 재사용 가능하게 나눌 수 있습니다. Lodash에 대한 내용은 <a href="https://bit.dev/lodash/lodash" rel="external nofollow noopener" target="_blank">여기</a> 를 참고해주세요!</p> <h3 id="find">find</h3> <p>첫 번째로 <code class="language-plaintext highlighter-rouge">find</code>을 살펴보겠습니다. <code class="language-plaintext highlighter-rouge">find</code>는 컬렉션에서 주어진 조건을 충족하는 첫 번째 요소를 반환합니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td> <td class="code"><pre><span class="kd">const</span> <span class="nx">users</span> <span class="o">=</span> <span class="p">[</span>
<span class="p">{</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">joey</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">age</span><span class="dl">'</span><span class="p">:</span> <span class="mi">32</span> <span class="p">},</span>
<span class="p">{</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">ross</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">age</span><span class="dl">'</span><span class="p">:</span> <span class="mi">41</span> <span class="p">},</span>
<span class="p">{</span> <span class="dl">'</span><span class="s1">user</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">chandler</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">age</span><span class="dl">'</span><span class="p">:</span> <span class="mi">39</span> <span class="p">}</span>
<span class="p">]</span>

<span class="c1">// Native</span>
<span class="nx">users</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="nf">function </span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">;</span> <span class="p">})</span>

<span class="c1">//lodash</span>
<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">find</span><span class="p">(</span><span class="nx">users</span><span class="p">,</span> <span class="nf">function </span><span class="p">(</span><span class="nx">o</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">o</span><span class="p">.</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">40</span><span class="p">;</span> <span class="p">})</span>
</pre></td> </tr></tbody></table></code></pre></figure> <p>위의 간단한 예제 코드를 통해, 네이티브 자바스크립트와 Lodash 각각의 성능을 살펴보겠습니다.</p> <blockquote> <p>_find vs _.find _</p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*aw5pv3HKxsHsV1jh434UYg.png" alt="queue" width="100%" height="100%"></p> <p>하지만, 이 통계만 보고 순수 자바스크립트의 기능이 항상 Lodash의 것보다 성능이 좋다는 결론을 내릴 순 없습니다. 다만, 네이티브 함수인 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find" rel="external nofollow noopener" target="_blank">find</a> 이 lodash의 <a href="https://lodash.com/docs/4.17.15#find" rel="external nofollow noopener" target="_blank">find</a> 보다 더 간결하고 읽기 쉽다는 장점이 있음은 분명해보입니다.</p> <h3 id="filter">filter</h3> <p>다음으로 <code class="language-plaintext highlighter-rouge">filter</code> 를 살펴보겠습니다. <code class="language-plaintext highlighter-rouge">filter</code>는 컬렉션에서 특정 조건을 충족하는 요소를 반환하는데 주로 사용됩니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="kd">const</span> <span class="nx">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">230</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">1221</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="nx">num</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
<span class="nx">numbers</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nx">num</span> <span class="o">=&gt;</span> <span class="nx">num</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>_.filter vs array.filter</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*lstVPT2qm3OesKxOm3OoGg.png" alt="queue" width="100%" height="100%"></p> <p>이번에도 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter" rel="external nofollow noopener" target="_blank"><code class="language-plaintext highlighter-rouge">Array.prototype.filter</code></a>가 동일 연산을 처리하는데 좀 더 빠르다는 결과를 얻을 수 있습니다.</p> <h3 id="each">each</h3> <p>반대로 lodash 함수를 사용할 때 유익한 경우도 있습니다. 아래 예제는 내장된 이터레이터인 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach" rel="external nofollow noopener" target="_blank">Array.prototype.forEach</a> 보다 lodash의 <a href="https://lodash.com/docs/4.17.15#forEach" rel="external nofollow noopener" target="_blank">_.forEach</a> 를 사용하는 것이 좋음을 보여주고 있습니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td> <td class="code"><pre><span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">each</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<span class="p">})</span>

<span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">].</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
<span class="p">})</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">forEach</span><span class="p">({</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">:</span> <span class="mi">2</span> <span class="p">},</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">});</span>

<span class="p">({</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">:</span> <span class="mi">2</span> <span class="p">}).</span><span class="nf">forEach</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="c1">// !error</span>
<span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
<span class="p">});</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>_.each vs forEach vs map</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*sqlnG7flP2igrYUnt7YSzA.png" alt="queue" width="100%" height="100%"></p> <p><code class="language-plaintext highlighter-rouge">_.each</code>는 브라우저 별로 구현을 달리 하기 때문에 네이티브 함수보다 훨씬 빠른 결과를 얻을 수 있습니다.</p> <blockquote> <p>Lodash 개발자에 따르면, 네이티브 forEach 함수는 브라우저에 따라 상대적인 속도가 상이하다고 합니다. 이는 forEach가 네이티브 함수이기 때문에 <code class="language-plaintext highlighter-rouge">for</code> 혹은 <code class="language-plaintext highlighter-rouge">while</code>로 생성된 루프보다 빠르다는 것을 의미하지 않습니다. 또한 forEach는 콜백 함수를 사용하기 때문에, 함수 호출 시 (잠재적인) 오버헤드가 존재합니다.</p> </blockquote> <h3 id="every">every</h3> <p><code class="language-plaintext highlighter-rouge">every</code>는 배열의 모든 요소를 순회하며 특정 조건을 충족하는지 여부를 테스트합니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="kd">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">cat</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dog</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bat</span><span class="dl">"</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">every</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span>
<span class="nx">elements</span><span class="p">.</span><span class="nf">every</span><span class="p">(</span><span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="c1">//true</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>_.every vs array.every</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*_CJMbz8wzHiv6R2SP7h9Gw.png" alt="queue" width="100%" height="100%"></p> <p>이번에도 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/every" rel="external nofollow noopener" target="_blank">Array.prototype.every</a> 가 <code class="language-plaintext highlighter-rouge">_.every</code>보다 훨씬 빠르다는 결과를 얻었습니다.</p> <h3 id="some">some</h3> <p><code class="language-plaintext highlighter-rouge">some</code>은 배열의 요소 중 하나 이상이 특정 조건을 충족하는지 여부를 확인하는데 사용합니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="kd">const</span> <span class="nx">elements</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">cat</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">dog</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bat</span><span class="dl">"</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">some</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">))</span>
<span class="nx">elements</span><span class="p">.</span><span class="nf">some</span><span class="p">(</span><span class="nx">el</span> <span class="o">=&gt;</span> <span class="nx">el</span><span class="p">.</span><span class="nf">startsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">))</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>array.some vs _.some</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*EBznqoWTqNjrARQE_yJpTw.png" alt="queue" width="100%" height="100%"></p> <p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some" rel="external nofollow noopener" target="_blank">Array.prototype.some</a> 의 결과가 우세함을 알 수 있습니다.</p> <h3 id="includes">includes</h3> <p><code class="language-plaintext highlighter-rouge">includes</code>는 배열에 특정 요소가 포함되어 있는지 여부를 반환합니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="kd">const</span> <span class="nx">primes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">13</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">19</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">29</span><span class="p">,</span><span class="mi">31</span><span class="p">,</span><span class="mi">37</span><span class="p">,</span><span class="mi">41</span><span class="p">,</span><span class="mi">43</span><span class="p">,</span><span class="mi">47</span><span class="p">,</span><span class="mi">53</span><span class="p">,</span><span class="mi">59</span><span class="p">,</span><span class="mi">61</span><span class="p">,</span><span class="mi">67</span><span class="p">,</span><span class="mi">71</span><span class="p">,</span><span class="mi">73</span><span class="p">,</span><span class="mi">79</span><span class="p">,</span><span class="mi">83</span><span class="p">,</span><span class="mi">97</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="nx">primes</span><span class="p">,</span> <span class="mi">47</span><span class="p">)</span>
<span class="nx">primes</span><span class="p">.</span><span class="nf">includes</span><span class="p">(</span><span class="mi">79</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>array.includes vs _.includes</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*WW2NTx8Ka4PKul6gPPvOuQ.png" alt="queue" width="100%" height="100%"></p> <h3 id="uniq">uniq</h3> <p><code class="language-plaintext highlighter-rouge">uniq</code>는 배열에서 고유한 요소를 찾는데 사용됩니다. 자바스크립트의 <code class="language-plaintext highlighter-rouge">Set</code> 데이터 타입을 활용하여 배열을 집합으로 변환하고, 스프레드 연산자(…)를 사용하여 이를 다시 배열로 변환합니다. 이러한 두 번의 전환 과정을 거치는 것이 실제로 도움이 되는지 살펴봅시다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">uniq</span><span class="p">(</span><span class="nx">elements</span><span class="p">)</span>
<span class="p">[...</span><span class="k">new</span> <span class="nc">Set</span><span class="p">(</span><span class="nx">elements</span><span class="p">)]</span>
</pre></td> </tr></tbody></table></code></pre></figure> <blockquote> <p><em>_.uniq vs Set</em></p> </blockquote> <p><img src="https://miro.medium.com/max/1400/1*GOx7k9e6DFast8jPSmPKpQ.png" alt="queue" width="100%" height="100%"></p> <p><code class="language-plaintext highlighter-rouge">_.uniq</code>의 성능이 조금 더 우세함을 확인할 수 있습니다.</p> <p>또는 아래와 같은 방식도 고려해볼 수 있습니다.</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">elements</span><span class="p">.</span><span class="nf">filter</span><span class="p">((</span><span class="nx">value</span><span class="p">,</span> <span class="nx">index</span><span class="p">,</span> <span class="nx">array</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">array</span><span class="p">.</span><span class="nf">indexof</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">===</span> <span class="nx">index</span><span class="p">);</span>
</code></pre></div></div> <h3 id="compact">compact</h3> <p><code class="language-plaintext highlighter-rouge">compact</code>는 배열에서 거짓(false) 혹은 정의되지 않은(undefined) 값을 제거하는데 유용합니다.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td> <td class="code"><pre><span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">[</span><span class="kc">undefined</span><span class="p">,</span> <span class="dl">'</span><span class="s1">cat</span><span class="dl">'</span><span class="p">,</span> <span class="kc">false</span><span class="p">,</span> <span class="mi">434</span><span class="p">,</span> <span class="dl">''</span><span class="p">,</span> <span class="mf">32.0</span><span class="p">]</span>

<span class="err">\</span><span class="nx">_</span><span class="p">.</span><span class="nf">compact</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="nx">array</span><span class="p">.</span><span class="nf">filter</span><span class="p">(</span><span class="nb">Boolean</span><span class="p">)</span>
<span class="c1">// same as writing: (a.k.a Syntactic sugar)</span>
<span class="c1">// array.filter(function (x) { return Boolean(x); });</span>
</pre></td> </tr></tbody></table></code></pre></figure> <hr> <p>지금까지 여러 예제들을 통해 네이티브 함수의 유용성을 살펴보았습니다. Lodash 등의 유틸리티 라이브러리 대신 네이티브 함수를 선택할 때 고려해야 할 사항은 다음과 같습니다.</p> <ul> <li>반드시 필요한 모듈만 <code class="language-plaintext highlighter-rouge">import</code>합니다.</li> <li>lodash의 경우 CommonJS 형태로 번들링되어 배포되기 때문에 webpack의 기본 설정으로는 lodash를 <a href="https://webpack.js.org/guides/tree-shaking/" rel="external nofollow noopener" target="_blank">트리 쉐이킹</a> 할 수 없다. 이 경우, <a href="https://github.com/lodash/babel-plugin-lodash" rel="external nofollow noopener" target="_blank">babel-plugin-lodash</a> 를 사용하길 추천합니다.</li> <li>프로젝트에 더 적은 종속성이 요구되거나 대상 브라우저를 명확하게 알고 있다면, lodash/underscore.js와 같은 외부 유틸을 지양하고 네이티브 함수를 사용합니다.</li> </ul> <hr> <p>🔗 참조</p> <p>📌 <a href="https://blog.bitsrc.io/you-dont-need-lodash-or-how-i-started-loving-javascript-functions-3f45791fa6cd" rel="external nofollow noopener" target="_blank">Pure JavaScript Functions as a Replacement for Lodash</a></p> <p>📌 <a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore" rel="external nofollow noopener" target="_blank">You Dont Need Lodash Underscore</a></p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/articles/2023-07/automating-dependency-updates-with-renovate/">Renovate로 패키지 버전 관리 자동화하기</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/articles/2022-12/why-I-run/">Why I Run (feat. 내가 달리기를 좋아하는 이유)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/articles/2022-04/cookie-session-webstorage/">cookie vs session vs webStorage</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/articles/2021-08/react-controlled-uncontrolled-component/">[React] Controlled vs Uncontrolled Component</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/articles/2021-07/review-of-learning-react/">[리뷰] "Learning React"를 읽고</a> </li> <div id="disqus_thread" style="max-width: 930px; margin: 0 auto;"> <script type="text/javascript">
    var disqus_shortname  = 'chanmi-lee';
    var disqus_identifier = '/articles/2021-03/Pure-JavaScript-Functions-as-a-Replacement-for-Lodash';
    var disqus_title      = "[번역] Lodash를 대체하는 순수 자바스크립트 함수";
    (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript" rel="external nofollow noopener" target="_blank">comments powered by Disqus.</a> </noscript> </div> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Chanmi Kate Lee. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?c15de51d4bb57887caa2c21988d97279"></script> <script defer src="/assets/js/copy_code.js?c8a01c11a92744d44b093fc3bda915df" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>
    addBackToTop();
  </script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>